/**
 * This header is generated by class-dump-z 0.2a.
 * class-dump-z is Copyright (C) 2009 by KennyTM~, licensed under GPLv3.
 *
 * Source: (null)
 */

#import "ChatMigrationRecoverNotificationExt.h"
#import "IMMNewSessionMgrExt.h"
#import "IMsgExt.h"
#import <XXUnknownSuperclass.h> // Unknown library
#import "IAsyncTaskProtocol.h"

@class NSMutableArray, FTSDB, NSRecursiveLock, NSArray, FTSMessageDB, NSString, NSMutableDictionary, NSMutableSet, AsyncTaskQueueEngine;

@interface FTSMessageMgr : XXUnknownSuperclass <IAsyncTaskProtocol, IMsgExt, IMMNewSessionMgrExt, ChatMigrationRecoverNotificationExt> {
	FTSMessageDB* _ftsMessageDB;
	AsyncTaskQueueEngine* _asyncTaskQueueEngine;
	FTSDB* _ftsDB;
	NSRecursiveLock* _lock;
	BOOL _hasInitTask;
	BOOL _hasForegroundTask;
	BOOL _hasBackgroundTask;
	NSMutableArray* _arrHomePageLastQueryKeywords;
	NSString* _lastHomePageQueryText;
	NSString* _newestHomePageQueryText;
	BOOL _hasSearchDoneForHomePage;
	NSMutableArray* _arrMsgItemForHomePage;
	NSMutableArray* _arrSessionUserForHomePage;
	NSMutableDictionary* _dicSesssionArrMsgItemForHomePage;
	NSMutableArray* _arrDetailPageLastQueryKeywords;
	NSString* _lastDetailPageQueryText;
	NSString* _newestDetailPageQueryText;
	BOOL _hasSearchDoneForDetailPage;
	NSMutableArray* _arrMsgItemForDetailPage;
	NSMutableArray* _arrSessionUserForDetailPage;
	NSMutableDictionary* _dicSesssionArrMsgItemForDetailPage;
	NSMutableArray* _arrSessionUser;
	NSMutableDictionary* _dicLatestSession;
	BOOL _hasNewMessage;
	BOOL _needMonitorReport;
	BOOL _hasIndexMessageResult;
	BOOL _hasMemoryMessageResult;
	BOOL _enableTimerTask;
	BOOL _isTimerTasking;
	NSRecursiveLock* _indexMemCacheLock;
	NSRecursiveLock* _indexTaskLock;
	BOOL _bStopCacheMsg;
	NSMutableDictionary* _dicUnIndexMsgCache;
	BOOL _bShouldReloadUpdatedSession;
	NSMutableSet* _setUpdatedSession;
}
@property(readonly, copy) NSString* debugDescription;
@property(readonly, copy) NSString* description;
@property(readonly, assign) Class superclass;
@property(readonly, assign) unsigned hash;
@property(assign, nonatomic) BOOL needMonitorReport;
@property(retain, nonatomic) NSMutableDictionary* dicLatestSession;
@property(retain, nonatomic) NSMutableArray* arrSessionUser;
@property(retain, nonatomic) NSString* newestDetailPageQueryText;
@property(retain, nonatomic) NSArray* arrDetailPageLastQueryKeywords;
@property(retain, nonatomic) NSString* lastDetailPageQueryText;
@property(retain, nonatomic) NSString* newestHomePageQueryText;
@property(retain, nonatomic) NSArray* arrHomePageLastQueryKeywords;
@property(retain, nonatomic) NSString* lastHomePageQueryText;
-(void).cxx_destruct;
-(void)onEnterBackground;
-(void)clearIndexMemCache;
-(void)removeUnIndexMsgFromID:(unsigned long)anId toID:(unsigned long)anId2 forKey:(id)key;
-(void)removeUnIndexMsg:(id)msg forKey:(id)key;
-(void)cacheUnIndexMsg:(id)msg forKey:(id)key;
-(unsigned long)calAllMemMsgCount;
-(void)memSearchLog:(id)log searchDone:(BOOL)done isComplete:(BOOL)complete;
-(id)memSearch:(id)search limit:(unsigned long)limit searchAll:(BOOL*)all;
-(BOOL)isFtsIndexTargetMsg:(id)msg;
-(BOOL)shouldCacheMsg:(id)msg;
-(void)enableIndexMemCache:(BOOL)cache;
-(void)enableTimerTask:(BOOL)task;
-(BOOL)hasTimerTask;
-(void)onRecoverChatFailure;
-(void)onCleanTmpFile;
-(void)onMediaFileRecoverProgress:(unsigned)progress andFinishCount:(unsigned)count;
-(void)onDBRecoverProgress:(unsigned)progress andFinishCount:(unsigned)count;
-(void)onRecoverStart;
-(void)onRecoverChatSuccess;
-(void)OnDelMsg:(id)msg MsgWrap:(id)wrap;
-(void)doIndexIfNeeded;
-(void)wakeUpForegroundTask;
-(void)tryWakeUpTimerTask;
-(void)OnAddMsg:(id)msg MsgWrap:(id)wrap;
-(void)onDeleteSessionOfUser:(id)user;
-(void)onNeedReload;
-(void)updateIndexTaskState;
-(void)updateLatestSession;
-(void)excuteTimerTask;
-(void)excuteBackgroundTask;
-(BOOL)hasBackgroundTask;
-(void)excuteForegroundTask;
-(BOOL)hasForegroundTask;
-(void)excuteInitTask;
-(BOOL)hasInitTask;
-(void)asyncMonitorReport;
-(unsigned)getIndexNotReadyCount:(id)count;
-(BOOL)hasCreateAllIndex:(id)index;
-(void)aggregateMsgItemForDetailPage;
-(id)getSessionMsgItemsForDetailPage:(id)detailPage index:(unsigned)index;
-(id)getSessionUsersForDetailPage:(id)detailPage;
-(BOOL)hasSearchDoneForDetailPage:(id)detailPage;
-(void)cancelSearchForDetailPage;
-(void)asyncSearchTextForDetailPage:(id)detailPage;
-(void)searchCompletelyForDetailPage:(id)detailPage;
-(void)aggregateMsgItemForHomePage;
-(id)getSessionMsgItemsForHomePage:(id)homePage index:(unsigned)index;
-(unsigned)getSessionUserCountForHomePage:(id)homePage;
-(BOOL)hasMemoryMessageResultForHomePage:(id)homePage;
-(BOOL)hasIndexMessageResultForHomePage:(id)homePage;
-(BOOL)hasSearchDoneForHomePage:(id)homePage;
-(BOOL)hasSearchResultForHomePage:(id)homePage;
-(void)cancelSearchForHomePage;
-(void)asyncSearchTextForHomePage:(id)homePage;
-(void)searchCompletelyForHomePage:(id)homePage;
-(void)reloadDB;
-(void)initDB:(id)db lock:(id)lock asyncTaskQueueEngine:(id)engine;
-(void)setNeedsInitTask;
-(void)resetCache;
-(void)onRecoverFTSDB;
-(void)onPreRecoverFTSDB;
-(void)dealloc;
-(id)init;
@end

